# üè≠ SCADA API –ê–≤—Ç–æ—Ç–µ—Å—Ç—ã

–ê–≤—Ç–æ—Ç–µ—Å—Ç—ã –¥–ª—è —Å–∏—Å—Ç–µ–º—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ–º (SCADA).  
–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è API –∫–æ–º–∞–Ω–¥ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è.

## ü§î –ß—Ç–æ —Ç–∞–∫–æ–µ SCADA?

SCADA (Supervisory Control And Data Acquisition) ‚Äî —Å–∏—Å—Ç–µ–º–∞ –¥–∏—Å–ø–µ—Ç—á–µ—Ä—Å–∫–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏ —Å–±–æ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö. –í –ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω–æ—Å—Ç–∏ SCADA —Å–∏—Å—Ç–µ–º—ã —É–ø—Ä–∞–≤–ª—è—é—Ç –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ–º: –¥–∞—Ç—á–∏–∫–∞–º–∏, —Å–µ–Ω—Å–æ—Ä–∞–º–∏, –ø—Ä–∏–≤–æ–¥–∞–º–∏. 

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç API –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –∫–æ–º–∞–Ω–¥ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—é (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞—Ç—á–∏–∫", "–≤–∫–ª—é—á–∏—Ç—å –Ω–∞—Å–æ—Å") –∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∏—Ö –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è.

## üéØ –ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä—É–µ–º

‚úÖ **–°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥** ‚Äî –æ—Ç–ø—Ä–∞–≤–∫–∞ –∫–æ–º–∞–Ω–¥ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—é  
‚úÖ **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ** ‚Äî –∫–æ–º–∞–Ω–¥—ã –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –Ω–µ –º–≥–Ω–æ–≤–µ–Ω–Ω–æ  
‚úÖ **–û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–æ–≤** ‚Äî NEW ‚Üí IN_PROGRESS ‚Üí SUCCESS/FAILED  
‚úÖ **–í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö** ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—Ö–æ–¥–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤  

## ü§ñ –ò–Ω—Å—Ç–∞–ª–ª—è—Ü–∏—è –∏ –∑–∞–ø—É—Å–∫

1) –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏: pip install -r requirements.txt
2) –ó–∞–ø—É—Å—Ç–∏—Ç—å –ú–æ–∫-–°–µ—Ä–≤–µ—Ä: python mock_server.py
3) –ó–∞–ø—É—Å—Ç–∏—Ç—å –∞–≤—Ç–æ—Ç–µ—Å—Ç—ã: pytest tests/test_scada.py -v -s

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

–ü—Ä–æ–µ–∫—Ç –ø–æ—Å—Ç—Ä–æ–µ–Ω –ø–æ –ø—Ä–∏–Ω—Ü–∏–ø–∞–º **–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ–≥–æ** –∏ **–º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ–≥–æ** —Ç–µ—Å—Ç–æ–≤–æ–≥–æ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞:

### üß© **–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏ API –∏ —Ç–µ—Å—Ç–æ–≤**
- `api/client.py` ‚Äî —á–∏—Å—Ç—ã–π HTTP-–∫–ª–∏–µ–Ω—Ç (–∑–Ω–∞–µ—Ç –ö–ê–ö –¥–µ–ª–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã)
- `api/commands.py` ‚Äî –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ (–∑–Ω–∞–µ—Ç –ß–¢–û –Ω—É–∂–Ω–æ –¥–µ–ª–∞—Ç—å)
- `test_scada.py` ‚Äî —Ç–æ–ª—å–∫–æ —Ç–µ—Å—Ç–æ–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ (–≥–æ–≤–æ—Ä–∏—Ç –ß–¢–û –ø—Ä–æ–≤–µ—Ä–∏—Ç—å)

### üé≠ **–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏**
- **Page Object Pattern** –¥–ª—è API ‚Äî –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è –Ω–∞–¥ HTTP –≤—ã–∑–æ–≤–∞–º–∏

### üìñ **–ß–∏—Ç–∞–µ–º—ã–π –∏ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –∫–æ–¥**
- –ü–æ–Ω—è—Ç–Ω—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è –º–µ—Ç–æ–¥–æ–≤ (`create_command`, `wait_for_completion`)
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –Ω–∞ —Ä—É—Å—Å–∫–æ–º/–∞–Ω–≥–ª–∏–π—Å–∫–æ–º
- –ü–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤ ‚Äî –æ–¥–∏–Ω —Ç–µ—Å—Ç, –º–Ω–æ–≥–æ —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤
- –§–∏–∫—Å—Ç—É—Ä—ã pytest ‚Äî –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–∞—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö

### üõ°Ô∏è **–ö–æ–º–ø–ª–µ–∫—Å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫**
- –í–∞–ª–∏–¥–∞—Ü–∏—è HTTP —Å—Ç–∞—Ç—É—Å–æ–≤ (400, 500, —Ç–∞–π–º–∞—É—Ç—ã)
- Retry –ª–æ–≥–∏–∫–∞ –¥–ª—è –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ—à–∏–±–æ–∫ —Å–µ—Ä–≤–µ—Ä–∞ (5xx)
- –ö–∞—Å—Ç–æ–º–Ω—ã–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è —Å –ø–æ–Ω—è—Ç–Ω—ã–º–∏ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏
- –ü–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞–∂–¥–æ–≥–æ —à–∞–≥–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

### üîÑ **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å**
- –î–æ–±–∞–≤–∏–ª –Ω–æ–≤—ã–π endpoint? ‚Üí –ø—Ä–æ—Å—Ç–æ –¥–æ–±–∞–≤–∏–ª –º–µ—Ç–æ–¥ –≤ –∫–ª–∏–µ–Ω—Ç
- –ù—É–∂–µ–Ω –Ω–æ–≤—ã–π —Ç–µ—Å—Ç? ‚Üí –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ñ–∏–∫—Å—Ç—É—Ä—ã
- –ò–∑–º–µ–Ω–∏–ª—Å—è API? ‚Üí –æ–±–Ω–æ–≤–∏–ª —Ç–æ–ª—å–∫–æ —Å–ª–æ–π –∫–ª–∏–µ–Ω—Ç–∞

## üèÅ –ò—Ç–æ–≥–∏

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç ‚Äî **–ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∞—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –Ω–∞–≤—ã–∫–æ–≤** –≤ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è API, –ø–æ—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è—Ö SCADA-—Å–∏—Å—Ç–µ–º.

### üéØ **–ö–ª—é—á–µ–≤—ã–µ –∫–æ–º–ø–µ—Ç–µ–Ω—Ü–∏–∏:**
- üì° –†–∞–±–æ—Ç–∞ —Å **–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º API** –∏ polling-–º–µ—Ö–∞–Ω–∏–∑–º–∞–º–∏
- üõ°Ô∏è **–ü–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω–æ–µ –Ω–µ–≥–∞—Ç–∏–≤–Ω–æ–µ** —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è –æ—à–∏–±–æ–∫
- üèóÔ∏è –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ **–º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã** —Ç–µ—Å—Ç–æ–≤–æ–≥–æ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞
- üîß –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ **–ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤** (Page Object, Factory) –≤ API-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏
- üìù **–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞** —Å Git (–≤–µ—Ç–∫–∏, PR, –º–µ—Ä–∂-—Ä–µ–∫–≤–µ—Å—Ç—ã)